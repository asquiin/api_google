{"ast":null,"code":"var _jsxFileName = \"/Users/amerkanovaasel/Desktop/pr/src/pages/Results/Results.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport noImage from './../../assets/images/noImage.jpg';\nimport { NavLink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadMoreBooks, startSearchBook } from '../../redux/searchResult-reducer';\nimport Preloader from '../../components/common/Preloader/Preloader';\nimport Error from '../../components/common/Error/Error';\nimport './Results.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Results = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const searchString = useSelector(state => state.header.newSearchString);\n  const orderBy = useSelector(state => state.header.orderBy);\n  const category = useSelector(state => state.header.category);\n  const results = useSelector(state => state.searchResult.results);\n  const totalItems = useSelector(state => state.searchResult.totalItems);\n  const isFetching = useSelector(state => state.searchResult.isFetching);\n  const isFetchError = useSelector(state => state.searchResult.isFetchError);\n  let [booksCount, increaseBooksCount] = useState(30);\n  useEffect(() => {\n    dispatch(startSearchBook(searchString, orderBy, category));\n  }, [searchString, orderBy, category]);\n\n  let onLoadMoreButton = () => {\n    dispatch(loadMoreBooks(booksCount, results, searchString));\n    increaseBooksCount(booksCount + 30);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isFetching ? /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 27\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"books_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"how_much_found\",\n          children: [\"Found \", totalItems, \" results\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"books_row\",\n        children: results.map(b => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"books_items\",\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            to: '/bookCard/' + b.id,\n            className: \"navbar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"book_item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"book_img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: b.volumeInfo.imageLinks != null ? b.volumeInfo.imageLinks.smallThumbnail : noImage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 45,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"book_info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"book_category\",\n                  children: b.volumeInfo.categories != null ? b.volumeInfo.categories[0] : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"book_name\",\n                  children: [\" \", b.volumeInfo.title, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 49,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"book_authors\",\n                  children: [\" Author: \", b.volumeInfo.authors != null ? b.volumeInfo.authors : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 50,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button\",\n        children: totalItems > results.length ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"load_more_button\",\n          onClick: () => {\n            onLoadMoreButton();\n          },\n          children: \"Load more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 54\n        }, this) : booksCount == 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), isFetchError ? /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }, this) : null]\n  }, void 0, true);\n};\n\n_s(Results, \"JiBqurr38mQNqtM9hfgv7sUY318=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Results;\nexport default Results;\n\nvar _c;\n\n$RefreshReg$(_c, \"Results\");","map":{"version":3,"sources":["/Users/amerkanovaasel/Desktop/pr/src/pages/Results/Results.js"],"names":["React","useEffect","useState","noImage","NavLink","useDispatch","useSelector","loadMoreBooks","startSearchBook","Preloader","Error","Results","dispatch","searchString","state","header","newSearchString","orderBy","category","results","searchResult","totalItems","isFetching","isFetchError","booksCount","increaseBooksCount","onLoadMoreButton","map","b","id","volumeInfo","imageLinks","smallThumbnail","categories","title","authors","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport noImage from './../../assets/images/noImage.jpg';\nimport { NavLink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadMoreBooks, startSearchBook } from '../../redux/searchResult-reducer';\nimport Preloader from '../../components/common/Preloader/Preloader';\nimport Error from '../../components/common/Error/Error';\nimport './Results.css'\n\nconst Results = () => {\n\n    const dispatch = useDispatch();\n    const searchString = useSelector(state => state.header.newSearchString);\n    const orderBy = useSelector(state => state.header.orderBy);\n    const category = useSelector(state => state.header.category);\n    const results = useSelector(state => state.searchResult.results);\n    const totalItems = useSelector(state => state.searchResult.totalItems); \n    const isFetching = useSelector(state => state.searchResult.isFetching);\n    const isFetchError = useSelector(state => state.searchResult.isFetchError);\n\n    let [booksCount, increaseBooksCount] = useState(30);\n\n    useEffect(() => {\n        dispatch(startSearchBook(searchString, orderBy, category));\n    }, [searchString, orderBy, category]);\n\n    let onLoadMoreButton = () => {\n        dispatch(loadMoreBooks(booksCount, results, searchString));\n        increaseBooksCount(booksCount + 30);\n    }\n\n    return (\n        <>\n            {isFetching ? <Preloader /> : null}\n\n            <div className=\"books_container\">\n                <div><h2 className=\"how_much_found\">Found {totalItems} results</h2></div>\n                <div className=\"books_row\">\n                    {\n                        results.map(b =>\n                            <div className=\"books_items\">\n                                <NavLink to={'/bookCard/' + b.id} className=\"navbar\">\n                                    <div className=\"book_item\">\n                                        <div className=\"book_img\">\n                                            <img src={b.volumeInfo.imageLinks != null ? b.volumeInfo.imageLinks.smallThumbnail : noImage}></img>\n                                        </div>\n                                        <div className=\"book_info\">\n                                            <h3 className=\"book_category\">{b.volumeInfo.categories != null ? b.volumeInfo.categories[0] : ''}</h3>\n                                            <h1 className=\"book_name\"> {b.volumeInfo.title} </h1>\n                                            <h2 className=\"book_authors\"> Author: {b.volumeInfo.authors != null ? b.volumeInfo.authors : ''}</h2>\n                                        </div>\n                                    </div>\n                                </NavLink>\n                            </div>)\n                    }\n                </div>\n                <div className=\"button\">\n                    {(totalItems > results.length) ? <button className=\"load_more_button\" onClick={() => { onLoadMoreButton() }}>Load more</button> : booksCount == 0}\n                </div>\n            </div>\n\n            {isFetchError ? <Error /> : null}\n        </>\n    )\n}\n\nexport default Results;"]},"metadata":{},"sourceType":"module"}