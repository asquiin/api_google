{"ast":null,"code":"var _jsxFileName = \"/Users/amerkanovaasel/Desktop/pr/src/pages/Results/Results.js\",\n    _s = $RefreshSig$();\n\n// import React from 'react';\n// const Results = () => {\n//   return (\n//     <div>\n//       <h2>Result Page</h2>\n//       <p>This is the result page.</p>\n//     </div>\n//   );\n// };\n// export default Results;\nimport React, { useEffect, useState } from 'react';\nimport s from './Result.module.css';\nimport noImage from './../../assets/images/noImage.jpg';\nimport { NavLink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadMoreBooks, startSearchBook } from '../../redux/searchResult-reducer';\nimport Preloader from '../../components/common/Preloader/Preloader';\nimport Error from '../../components/common/Error/Error';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst SearchResultWithHooks = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const searchString = useSelector(state => state.header.newSearchString);\n  const orderBy = useSelector(state => state.header.orderBy);\n  const category = useSelector(state => state.header.category);\n  const results = useSelector(state => state.searchResult.results);\n  const totalItems = useSelector(state => state.searchResult.totalItems); // сколько страниц по 30 книг \n\n  const isFetching = useSelector(state => state.searchResult.isFetching);\n  const isFetchError = useSelector(state => state.searchResult.isFetchError);\n  let [booksCount, increaseBooksCount] = useState(30);\n  useEffect(() => {\n    dispatch(startSearchBook(searchString, orderBy, category));\n  }, [searchString, orderBy, category]);\n\n  let onLoadMoreButton = () => {\n    dispatch(loadMoreBooks(booksCount, results, searchString));\n    increaseBooksCount(booksCount + 30);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isFetching ? /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 27\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.books_container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: s.how_much_found,\n          children: [\"Found \", totalItems, \" results\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 22\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.books_row,\n        children: results.map(b => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: s.books_items,\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            to: '/bookCard/' + b.id,\n            className: s.navbar,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: s.book_item,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: s.book_img,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: b.volumeInfo.imageLinks != null ? b.volumeInfo.imageLinks.smallThumbnail : noImage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: s.book_info,\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: s.book_category,\n                  children: b.volumeInfo.categories != null ? b.volumeInfo.categories[0] : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: s.book_name,\n                  children: [\" \", b.volumeInfo.title, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: s.book_authors,\n                  children: [\" \", b.volumeInfo.authors != null ? b.volumeInfo.authors : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 63,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: s.button,\n        children: totalItems > results.length ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: s.load_more_button,\n          onClick: () => {\n            onLoadMoreButton();\n          },\n          children: \"Load more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 54\n        }, this) : booksCount == 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), isFetchError ? /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }, this) : null]\n  }, void 0, true);\n};\n\n_s(SearchResultWithHooks, \"JiBqurr38mQNqtM9hfgv7sUY318=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = SearchResultWithHooks;\nexport default SearchResultWithHooks;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchResultWithHooks\");","map":{"version":3,"sources":["/Users/amerkanovaasel/Desktop/pr/src/pages/Results/Results.js"],"names":["React","useEffect","useState","s","noImage","NavLink","useDispatch","useSelector","loadMoreBooks","startSearchBook","Preloader","Error","SearchResultWithHooks","dispatch","searchString","state","header","newSearchString","orderBy","category","results","searchResult","totalItems","isFetching","isFetchError","booksCount","increaseBooksCount","onLoadMoreButton","books_container","how_much_found","books_row","map","b","books_items","id","navbar","book_item","book_img","volumeInfo","imageLinks","smallThumbnail","book_info","book_category","categories","book_name","title","book_authors","authors","button","length","load_more_button"],"mappings":"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","sourcesContent":["// import React from 'react';\n\n// const Results = () => {\n//   return (\n//     <div>\n//       <h2>Result Page</h2>\n//       <p>This is the result page.</p>\n//     </div>\n//   );\n// };\n\n// export default Results;\n\nimport React, { useEffect, useState } from 'react';\nimport s from './Result.module.css';\nimport noImage from './../../assets/images/noImage.jpg';\nimport { NavLink } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadMoreBooks, startSearchBook } from '../../redux/searchResult-reducer';\nimport Preloader from '../../components/common/Preloader/Preloader';\nimport Error from '../../components/common/Error/Error';\n\nconst SearchResultWithHooks = () => {\n\n    const dispatch = useDispatch();\n    const searchString = useSelector(state => state.header.newSearchString);\n    const orderBy = useSelector(state => state.header.orderBy);\n    const category = useSelector(state => state.header.category);\n    const results = useSelector(state => state.searchResult.results);\n    const totalItems = useSelector(state => state.searchResult.totalItems); // сколько страниц по 30 книг \n    const isFetching = useSelector(state => state.searchResult.isFetching);\n    const isFetchError = useSelector(state => state.searchResult.isFetchError);\n\n    let [booksCount, increaseBooksCount] = useState(30);\n\n    useEffect(() => {\n        dispatch(startSearchBook(searchString, orderBy, category));\n    }, [searchString, orderBy, category]);\n\n    let onLoadMoreButton = () => {\n        dispatch(loadMoreBooks(booksCount, results, searchString));\n        increaseBooksCount(booksCount + 30);\n    }\n\n    return (\n        <>\n            {isFetching ? <Preloader /> : null}\n\n            <div className={s.books_container}>\n                <div><h2 className={s.how_much_found}>Found {totalItems} results</h2></div>\n                <div className={s.books_row}>\n                    {\n                        results.map(b =>\n                            <div className={s.books_items}>\n                                <NavLink to={'/bookCard/' + b.id} className={s.navbar} >\n                                    <div className={s.book_item}>\n                                        <div className={s.book_img}>\n                                            <img src={b.volumeInfo.imageLinks != null ? b.volumeInfo.imageLinks.smallThumbnail : noImage}></img>\n                                        </div>\n                                        <div className={s.book_info}>\n                                            <h3 className={s.book_category}>{b.volumeInfo.categories != null ? b.volumeInfo.categories[0] : ''}</h3>\n                                            <h1 className={s.book_name}> {b.volumeInfo.title} </h1>\n                                            <h2 className={s.book_authors}> {b.volumeInfo.authors != null ? b.volumeInfo.authors : ''}</h2>\n                                        </div>\n                                    </div>\n                                </NavLink>\n                            </div>)\n                    }\n                </div>\n                <div className={s.button}>\n                    {(totalItems > results.length) ? <button className={s.load_more_button} onClick={() => { onLoadMoreButton() }}>Load more</button> : booksCount == 0}\n                </div>\n            </div>\n\n            {isFetchError ? <Error /> : null}\n        </>\n    )\n}\n\nexport default SearchResultWithHooks;"]},"metadata":{},"sourceType":"module"}