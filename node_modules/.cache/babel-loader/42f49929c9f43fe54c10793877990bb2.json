{"ast":null,"code":"var _jsxFileName = \"/Users/amerkanovaasel/Desktop/pr/src/pages/Results/Results.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport noImage from \"./../../assets/images/noImage.jpg\";\nimport { NavLink } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { loadMoreBooks, startSearchBook } from \"../../redux/searchResult-reducer\";\nimport Error from \"../Error/Error\";\nimport \"./Results.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Results = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const searchString = useSelector(state => state.header.newSearchString);\n  const orderBy = useSelector(state => state.header.orderBy);\n  const category = useSelector(state => state.header.category);\n  const results = useSelector(state => state.searchResult.results);\n  const totalItems = useSelector(state => state.searchResult.totalItems);\n  const isFetching = useSelector(state => state.searchResult.isFetching);\n  const isFetchError = useSelector(state => state.searchResult.isFetchError);\n  let [booksCount, increaseBooksCount] = useState(30);\n  useEffect(() => {\n    dispatch(startSearchBook(searchString, orderBy, category));\n  }, [searchString, orderBy, category]);\n\n  let onLoadMoreButton = () => {\n    dispatch(loadMoreBooks(booksCount, results, searchString));\n    increaseBooksCount(booksCount + 30);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [isFetching ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"forLoader\",\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"loader\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"books_container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"how_much_found\",\n          children: [\"Found \", totalItems, \" results\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"books_row\",\n        children: results.map(b => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"books_items\",\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            to: \"/bookCard/\" + b.id,\n            className: \"navbar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"book_item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"book_img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: b.volumeInfo.imageLinks != null ? b.volumeInfo.imageLinks.smallThumbnail : noImage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"book_info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: [\"Category:\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"book_category\",\n                    children: [\" \", b.volumeInfo.categories != null ? b.volumeInfo.categories[0] : \"Неизвестно\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 62,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"book_name\",\n                  children: [\" \", b.volumeInfo.title, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"book_authors\",\n                  children: [\" \", \"Author:\", \" \", b.volumeInfo.authors != null ? b.volumeInfo.authors : \"Неизвестно\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button\",\n        children: totalItems > results.length ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"load_more_button\",\n          onClick: () => {\n            onLoadMoreButton();\n          },\n          children: \"Load more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this) : booksCount == 0\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), isFetchError ? /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 23\n    }, this) : null]\n  }, void 0, true);\n};\n\n_s(Results, \"JiBqurr38mQNqtM9hfgv7sUY318=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Results;\nexport default Results;\n\nvar _c;\n\n$RefreshReg$(_c, \"Results\");","map":{"version":3,"sources":["/Users/amerkanovaasel/Desktop/pr/src/pages/Results/Results.js"],"names":["React","useEffect","useState","noImage","NavLink","useDispatch","useSelector","loadMoreBooks","startSearchBook","Error","Results","dispatch","searchString","state","header","newSearchString","orderBy","category","results","searchResult","totalItems","isFetching","isFetchError","booksCount","increaseBooksCount","onLoadMoreButton","map","b","id","volumeInfo","imageLinks","smallThumbnail","categories","title","authors","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport noImage from \"./../../assets/images/noImage.jpg\";\nimport { NavLink } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  loadMoreBooks,\n  startSearchBook,\n} from \"../../redux/searchResult-reducer\";\nimport Error from \"../Error/Error\";\nimport \"./Results.css\";\n\nconst Results = () => {\n  const dispatch = useDispatch();\n  const searchString = useSelector((state) => state.header.newSearchString);\n  const orderBy = useSelector((state) => state.header.orderBy);\n  const category = useSelector((state) => state.header.category);\n  const results = useSelector((state) => state.searchResult.results);\n  const totalItems = useSelector((state) => state.searchResult.totalItems);\n  const isFetching = useSelector((state) => state.searchResult.isFetching);\n  const isFetchError = useSelector((state) => state.searchResult.isFetchError);\n\n  let [booksCount, increaseBooksCount] = useState(30);\n\n  useEffect(() => {\n    dispatch(startSearchBook(searchString, orderBy, category));\n  }, [searchString, orderBy, category]);\n\n  let onLoadMoreButton = () => {\n    dispatch(loadMoreBooks(booksCount, results, searchString));\n    increaseBooksCount(booksCount + 30);\n  };\n\n  return (\n    <>\n      {isFetching ? (\n        <div className=\"forLoader\">\n          <span className=\"loader\"></span>\n        </div>\n      ) : null}\n\n      <div className=\"books_container\">\n        <div>\n          <h2 className=\"how_much_found\">Found {totalItems} results</h2>\n        </div>\n        <div className=\"books_row\">\n          {results.map((b) => (\n            <div className=\"books_items\">\n              <NavLink to={\"/bookCard/\" + b.id} className=\"navbar\">\n                <div className=\"book_item\">\n                  <div className=\"book_img\">\n                    <img\n                      src={\n                        b.volumeInfo.imageLinks != null\n                          ? b.volumeInfo.imageLinks.smallThumbnail\n                          : noImage\n                      }\n                    ></img>\n                  </div>\n                  <div className=\"book_info\">\n                    <h5>\n                      Category:{\" \"}\n                      <span className=\"book_category\">\n                        {\" \"}\n                        {b.volumeInfo.categories != null\n                          ? b.volumeInfo.categories[0]\n                          : \"Неизвестно\"}\n                      </span>\n                    </h5>\n                    <h1 className=\"book_name\"> {b.volumeInfo.title} </h1>\n                    <h2 className=\"book_authors\">\n                      {\" \"}\n                      Author:{\" \"}\n                      {b.volumeInfo.authors != null\n                        ? b.volumeInfo.authors\n                        : \"Неизвестно\"}\n                    </h2>\n                  </div>\n                </div>\n              </NavLink>\n            </div>\n          ))}\n        </div>\n        <div className=\"button\">\n          {totalItems > results.length ? (\n            <button\n              className=\"load_more_button\"\n              onClick={() => {\n                onLoadMoreButton();\n              }}\n            >\n              Load more\n            </button>\n          ) : (\n            booksCount == 0\n          )}\n        </div>\n      </div>\n\n      {isFetchError ? <Error /> : null}\n    </>\n  );\n};\n\nexport default Results;\n"]},"metadata":{},"sourceType":"module"}